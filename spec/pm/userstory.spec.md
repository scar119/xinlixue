# 用户故事规格书
**项目**: 心理学-AI工具站点
**版本**: v1.0
**日期**: 2025-01-28

---

## 一、用户角色定义

### 1.1 主要角色

| 角色 | 代号 | 描述 | 使用频率 |
|------|------|------|----------|
| **游客** | Visitor | 未注册用户，探索网站 | 偶尔 |
| **注册用户** | User | 已注册的普通用户 | 经常 |
| **会员用户** | Member | 付费订阅用户 | 每天 |
| **管理员** | Admin | 网站管理者 | 每天 |

### 1.2 用户画像参考

详见 `pr.spec.md` 第二章"目标用户"

---

## 二、核心功能用户故事

### 2.1 夸夸功能 (Epic 1)

#### 故事 1.1: 游客使用夸夸

**作为** 一个感到沮丧的职场人

**我想** 被真诚地夸奖和鼓励

**这样** 我能获得正能量，改善心情

**验收标准**:
- [ ] 首页有明显的"来夸夸我"入口
- [ ] 点击后进入夸夸页面
- [ ] 有清晰的输入提示
- [ ] 可以提交 10-500 字的任意内容
- [ ] 3 秒内收到 AI 的夸奖反馈
- [ ] 夸奖内容真诚、具体、不重复
- [ ] 可以分享结果到朋友圈
- [ ] 提示注册以保存记录

**优先级**: P0
**故事点**: 5
**迭代**: Sprint 1

---

#### 故事 1.2: 用户保存夸夸记录

**作为** 一个注册用户

**我想** 保存我收到的夸奖

**这样** 我可以随时回顾，获得持续的力量

**验收标准**:
- [ ] 登录后可以保存夸夸记录
- [ ] 个人中心可以看到历史记录
- [ ] 可以按时间筛选
- [ ] 可以收藏特别的夸奖
- [ ] 可以删除不想要的记录
- [ ] 记录显示日期和内容摘要

**优先级**: P0
**故事点**: 3
**迭代**: Sprint 1

---

#### 故事 1.3: 会员无限夸夸

**作为** 一个会员用户

**我想** 没有次数限制地使用夸夸

**这样** 我随时都能获得支持和鼓励

**验收标准**:
- [ ] 会员用户无使用次数限制
- [ ] 免费用户每天限制 3 次
- [ ] 达到限制时提示升级
- [ ] 升级后立即可用

**优先级**: P1
**故事点**: 2
**迭代**: Sprint 3

---

### 2.2 心理测试功能 (Epic 2)

#### 故事 2.1: 浏览测试列表

**作为** 一个对心理学好奇的游客

**我想** 看到各种有趣的测试

**这样** 我可以选择感兴趣的来尝试

**验收标准**:
- [ ] 测试列表页显示所有可用测试
- [ ] 测试按分类展示（专业/趣味）
- [ ] 每个测试显示：标题、描述、预计时间
- [ ] 可以按分类筛选
- [ ] 可以搜索测试名称
- [ ] 会员专享测试有标识

**优先级**: P0
**故事点**: 3
**迭代**: Sprint 1

---

#### 故事 2.2: 完成心理测试

**作为** 一个想了解自己的用户

**我想** 完成一个 MBTI 性格测试

**这样** 我能知道自己的性格类型

**验收标准**:
- [ ] 测试介绍页说明测试目的和时长
- [ ] 点击"开始测试"进入答题
- [ ] 一次显示一个问题
- [ ] 选择答案后自动进入下一题
- [ ] 可以返回上一题修改
- [ ] 显示进度（如：5/20）
- [ ] 提交后显示"AI 分析中"动画
- [ ] 3 秒内生成测试报告

**优先级**: P0
**故事点**: 8
**迭代**: Sprint 1

---

#### 故事 2.3: 查看测试报告

**作为** 一个完成测试的用户

**我想** 看到详细而易懂的测试报告

**这样** 我能真正理解测试结果

**验收标准**:
- [ ] 报告显示测试结果（如：INFJ 调停者）
- [ ] AI 生成详细的性格描述
- [ ] 给出优势和盲点分析
- [ ] 提供成长建议
- [ ] 显示与同龄人的对比（如有数据）
- [ ] 可以分享到社交媒体
- [ ] 可以保存到个人中心
- [ ] 推荐相关测试

**优先级**: P0
**故事点**: 5
**迭代**: Sprint 1

---

#### 故事 2.4: 查看测试历史

**作为** 一个做过多个测试的用户

**我想** 看到我所有的测试历史

**这样** 我可以追踪自己的变化

**验收标准**:
- [ ] 个人中心显示测试历史列表
- [ ] 显示测试名称、完成日期、结果摘要
- [ ] 点击可以查看完整报告
- [ ] 可以重新测试
- [ ] 可以对比不同时期的结果

**优先级**: P1
**故事点**: 3
**迭代**: Sprint 2

---

### 2.3 理论知识库功能 (Epic 3)

#### 故事 3.1: 浏览理论知识

**作为** 一个想学习心理学的用户

**我想** 浏览易懂的心理学知识

**这样** 我能更好地理解自己

**验收标准**:
- [ ] 理论页按分类展示
- [ ] 每个分类显示文章列表
- [ ] 文章卡片显示：标题、摘要、封面图
- [ ] 可以搜索文章
- [ ] 相关文章自动推荐

**优先级**: P0
**故事点**: 3
**迭代**: Sprint 2

---

#### 故事 3.2: 阅读理论文章

**作为** 一个正在学习的用户

**我想** 阅读通俗易懂的心理学文章

**这样** 我能学到实用的知识

**验收标准**:
- [ ] 文章排版美观，易于阅读
- [ ] 包含实际案例和应用场景
- [ ] 专业术语有解释
- [ ] 可以收藏文章
- [ ] 可以分享文章
- [ ] 相关文章推荐

**优先级**: P1
**故事点**: 2
**迭代**: Sprint 2

---

### 2.4 用户账户功能 (Epic 4)

#### 故事 4.1: 注册账户

**作为** 一个想保存数据的游客

**我想** 注册一个账户

**这样** 我的数据不会丢失

**验收标准**:
- [ ] 可以用邮箱+密码注册
- [ ] 邮箱格式验证
- [ ] 密码强度提示
- [ ] 注册后自动登录
- [ ] 欢迎邮件发送
- [ ] 无需邮箱验证即可使用

**优先级**: P0
**故事点**: 5
**迭代**: Sprint 1

---

#### 故事 4.2: 登录系统

**作为** 一个注册用户

**我想** 快速登录我的账户

**这样** 我可以继续使用网站

**验收标准**:
- [ ] 邮箱+密码登录
- [ ] 记住我功能
- [ ] 忘记密码提示（暂无重置功能）
- [ ] 登录后跳转回原页面
- [ ] 错误提示清晰

**优先级**: P0
**故事点**: 3
**迭代**: Sprint 1

---

#### 故事 4.3: 管理个人中心

**作为** 一个已登录用户

**我想** 在个人中心管理我的数据

**这样** 我可以掌控我的信息

**验收标准**:
- [ ] 显示用户信息（昵称、头像）
- [ ] 显示使用统计（夸夸次数、测试数量）
- [ ] 显示成就徽章
- [ ] 可以修改昵称
- [ ] 可以修改密码
- [ ] 可以注销账户

**优先级**: P1
**故事点**: 5
**迭代**: Sprint 2

---

### 2.5 游戏化功能 (Epic 5)

#### 故事 5.1: 获取成就徽章

**作为** 一个爱玩的用户

**我想** 收集成就徽章

**这样** 使用网站更有成就感

**验收标准**:
- [ ] 首次夸夸获得"初来乍到"徽章
- [ ] 夸夸 7 天获得"坚持不懈"徽章
- [ ] 完成 5 个测试获得"探索者"徽章
- [ ] 会员获得"专属身份"徽章
- [ ] 徽章在个人中心展示
- [ ] 获得徽章时有动画效果

**优先级**: P1
**故事点**: 3
**迭代**: Sprint 3

---

#### 故事 5.2: 查看等级进度

**作为** 一个追求成长的用户

**我想** 看到我的使用等级

**这样** 我能感受到自己的进步

**验收标准**:
- [ ] 显示当前等级（如：LV.5 成长者）
- [ ] 显示经验值进度条
- [ ] 显示下一等级所需经验
- [ ] 显示等级特权说明
- [ ] 每次使用获得经验

**优先级**: P2
**故事点**: 2
**迭代**: Sprint 4

---

### 2.6 会员订阅功能 (Epic 6)

#### 故事 6.1: 查看会员权益

**作为** 一个考虑升级的用户

**我想** 清楚了解会员有什么好处

**这样** 我能决定是否购买

**验收标准**:
- [ ] 会员页面清晰列出权益对比
- [ ] 显示价格（月付/年付）
- [ ] 年付有折扣提示
- [ ] 常见问题解答
- [ ] 用户评价展示

**优先级**: P1
**故事点**: 2
**迭代**: Sprint 3

---

#### 故事 6.2: 购买会员

**作为** 一个决定升级的用户

**我想** 方便地支付成为会员

**这样** 我能立即享受会员权益

**验收标准**:
- [ ] 选择月付/年付
- [ ] 支持支付宝/微信支付
- [ ] 支付成功后立即生效
- [ ] 支付失败有清晰提示
- [ ] 购买成功有确认邮件
- [ ] 开具电子发票

**优先级**: P2
**故事点**: 5
**迭代**: Sprint 4

---

### 2.7 管理员功能 (Epic 7)

#### 故事 7.1: 管理测试内容

**作为** 一个管理员

**我想** 添加和编辑测试内容

**这样** 我能持续更新内容

**验收标准**:
- [ ] 后台可以创建新测试
- [ ] 可以编辑现有测试
- [ ] 可以删除测试
- [ ] 可以设置测试为会员专享
- [ ] 可以查看测试统计数据

**优先级**: P2
**故事点**: 5
**迭代**: Sprint 4

---

#### 故事 7.2: 查看网站数据

**作为** 一个管理员

**我想** 看到网站的使用数据

**这样** 我能了解网站运营情况

**验收标准**:
- [ ] 显示今日/本周/本月活跃用户
- [ ] 显示各功能使用次数
- [ ] 显示会员订阅情况
- [ ] 显示收入数据
- [ ] 可以导出报表

**优先级**: P2
**故事点**: 3
**迭代**: Sprint 4

---

## 三、用户旅程地图

### 3.1 新用户首次使用旅程

```
发现        → 注册        → 首次使用    → 留存
│           │            │           │
│ 搜索/社交  │ 尝试功能    │ 获得价值   │ 形成习惯
│ ↓          │ ↓          │ ↓         │ ↓
点击进入    → 简单注册    → 使用夸夸   → 收藏网站
          (邮箱+密码)  → 完成测试   → 第二天再来
                      → 收藏结果   → 每天使用
```

**关键触点优化**:
1. **首次访问**: Hero 区域价值主张要清晰
2. **注册流程**: 3 步完成，无需邮箱验证
3. **首次使用**: 夸夸功能要有惊喜感
4. **价值感知**: 立即获得正向反馈
5. **留存机制**: 每日提醒+新内容

---

### 3.2 付费转化旅程

```
免费用户    → 使用限制   → 考虑升级    → 付费转化
│           │           │           │
│ 体验功能  │ 次数用完   │ 查看权益   → 完成支付
│ ↓          │ ↓          │ ↓         │ ↓
使用 3 次   → 提示升级   → 对比页     → 享受会员
达到限制    (明天再来)   (权益清晰)   (立即生效)
```

**转化漏斗优化**:
1. **价值展示**: 免费用户先体验价值
2. **限制时机**: 次数用完时提示
3. **权益对比**: 清晰展示会员优势
4. **支付便捷**: 一键支付，立即生效

---

## 四、非功能需求用户故事

### 4.1 性能需求

#### 故事 4.1.1: 快速响应

**作为** 一个用户

**我想** 页面加载很快

**这样** 我不会失去耐心

**验收标准**:
- [ ] 首页加载时间 < 2 秒
- [ ] API 响应时间 < 500ms
- [ ] AI 生成时间 < 3 秒

---

### 4.2 安全需求

#### 故事 4.2.1: 数据隐私

**作为** 一个注重隐私的用户

**我想** 我的数据是安全的

**这样** 我敢放心使用网站

**验收标准**:
- [ ] 数据传输加密 (HTTPS)
- [ ] 密码加密存储
- [ ] 隐私政策清晰可查
- [ ] 可以删除所有数据

---

### 4.3 兼容性需求

#### 故事 4.3.1: 移动端使用

**作为** 一个手机用户

**我想** 在手机上也能流畅使用

**这样** 我随时随地都能访问

**验收标准**:
- [ ] 响应式设计适配手机
- [ ] 触摸操作流畅
- [ ] 文字大小适宜
- [ ] 无横向滚动

---

## 五、用户故事优先级矩阵

### 5.1 MVP 故事 (Sprint 1-2)

| 故事ID | 故事名称 | 优先级 | 故事点 |
|--------|---------|--------|--------|
| 1.1 | 游客使用夸夸 | P0 | 5 |
| 1.2 | 保存夸夸记录 | P0 | 3 |
| 2.1 | 浏览测试列表 | P0 | 3 |
| 2.2 | 完成心理测试 | P0 | 8 |
| 2.3 | 查看测试报告 | P0 | 5 |
| 4.1 | 注册账户 | P0 | 5 |
| 4.2 | 登录系统 | P0 | 3 |
| 3.1 | 浏览理论知识 | P0 | 3 |

**总计**: 35 故事点

---

### 5.2 V1.0 故事 (Sprint 3-4)

| 故事ID | 故事名称 | 优先级 | 故事点 |
|--------|---------|--------|--------|
| 1.3 | 会员无限夸夸 | P1 | 2 |
| 2.4 | 查看测试历史 | P1 | 3 |
| 3.2 | 阅读理论文章 | P1 | 2 |
| 4.3 | 管理个人中心 | P1 | 5 |
| 5.1 | 获取成就徽章 | P1 | 3 |
| 6.1 | 查看会员权益 | P1 | 2 |

**总计**: 17 故事点

---

## 六、验收测试场景

### 场景 1: 夸夸功能端到端测试

```
Given 我是一个新用户
And 我访问网站首页
When 我点击"来夸夸我"按钮
Then 我看到夸夸输入页面
When 我输入"今天工作很累，感觉不被理解"
And 我点击"提交"按钮
Then 3 秒内我看到 AI 的夸奖回应
And 夸奖内容包含我提到的具体点
And 夸奖让我感到温暖和被理解
When 我点击"分享"按钮
Then 我可以选择分享到朋友圈
```

---

### 场景 2: 测试功能端到端测试

```
Given 我是一个注册用户
And 我在测试列表页
When 我点击"MBTI 性格测试"
Then 我看到测试介绍页
When 我点击"开始测试"
Then 我看到第一道题目
When 我选择答案并继续
Then 我看到第二道题目
When 我完成所有 20 道题目并提交
Then 我看到"AI 分析中"动画
And 3 秒后我的测试报告生成
And 报告显示我的性格类型 INFJ
And 报告包含详细描述和建议
```

---

## 七、依赖关系

```
用户注册 → 保存数据
   ↓
   浏览测试 → 完成测试 → 查看报告
   ↓              ↓
   使用夸夸 → 收藏记录 → 查看历史
   ↓
   达到限制 → 考虑会员 → 购买订阅
```

---

## 八、变更记录

| 版本 | 日期 | 变更内容 | 变更人 |
|------|------|----------|--------|
| v1.0 | 2025-01-28 | 初始版本 | Claude |

---

**相关文档**:
- `spec/pm/pr.spec.md` - 产品需求规格书
- `.42cog/real/real.md` - 现实世界分析
- `.42cog/cog/cog.md` - 产品认知框架
